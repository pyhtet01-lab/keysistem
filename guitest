local CoreGui = game:GetService("CoreGui")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local Mouse = Players.LocalPlayer:GetMouse()

local RevenantUI = {}

function RevenantUI.Init()
    for _, v in pairs(CoreGui:GetChildren()) do
        if v.Name == "Revenant" then
            v:Destroy()
        end
    end

    local gui = Instance.new("ScreenGui")
    gui.Name = "Revenant"
    gui.Parent = CoreGui
    gui.Enabled = true

    return gui
end

function RevenantUI.CreateSection(gui, width, yOffset)
    local screenSize = workspace.CurrentCamera.ViewportSize
    local baseX = (screenSize.X - width) / 2
    local baseY = screenSize.Y * yOffset

    local section = Instance.new("Frame")
    section.Size = UDim2.fromOffset(width, 180)
    section.Position = UDim2.fromOffset(baseX, baseY)
    section.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
    section.Parent = gui

    Instance.new("UICorner", section).CornerRadius = UDim.new(0, 8)

    return section
end
--2
function RevenantUI.CreateDropdown(parent)
    local dropdown = Instance.new("TextButton")
    dropdown.Size = UDim2.fromOffset(200, 20)
    dropdown.Position = UDim2.fromOffset(12, 10)
    dropdown.Text = "Выбор: 1"
    dropdown.Font = Enum.Font.GothamBold
    dropdown.TextSize = 13
    dropdown.TextColor3 = Color3.fromRGB(214, 214, 214)
    dropdown.BackgroundColor3 = Color3.fromRGB(62, 62, 62)
    dropdown.Parent = parent
    Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 4)

    local currentOption = 1
    dropdown.MouseButton1Click:Connect(function()
        currentOption = currentOption % 3 + 1
        dropdown.Text = "Выбор: " .. tostring(currentOption)
    end)

    return function()
        return currentOption
    end
end

function RevenantUI.CreateToggle(parent)
    local toggleFrame = Instance.new("Frame")
    toggleFrame.Size = UDim2.fromOffset(38, 17)
    toggleFrame.Position = UDim2.fromOffset(175, 40)
    toggleFrame.BackgroundColor3 = Color3.fromRGB(62, 62, 62)
    toggleFrame.Parent = parent
    Instance.new("UICorner", toggleFrame).CornerRadius = UDim.new(1, 0)

    local knob = Instance.new("Frame")
    knob.Size = UDim2.fromOffset(13, 13)
    knob.Position = UDim2.fromOffset(3, 2)
    knob.BackgroundColor3 = Color3.fromRGB(214, 214, 214)
    knob.Parent = toggleFrame
    Instance.new("UICorner", knob).CornerRadius = UDim.new(1, 0)

    local toggled = false
    toggleFrame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            toggled = not toggled
            knob:TweenPosition(toggled and UDim2.fromOffset(22, 2) or UDim2.fromOffset(3, 2), "Out", "Quad", 0.2, true)
            toggleFrame.BackgroundColor3 = toggled and Color3.fromRGB(25, 25, 112) or Color3.fromRGB(62, 62, 62)
        end
    end)

    return function()
        return toggled
    end
end
--3
function RevenantUI.CreateSlider(parent)
    local bar = Instance.new("Frame")
    bar.Size = UDim2.fromOffset(200, 6)
    bar.Position = UDim2.fromOffset(12, 70)
    bar.BackgroundColor3 = Color3.fromRGB(62, 62, 62)
    bar.Parent = parent

    local fill = Instance.new("Frame")
    fill.Size = UDim2.fromOffset(100, 6)
    fill.BackgroundColor3 = Color3.fromRGB(56, 207, 154)
    fill.Parent = bar

    local knobSlider = Instance.new("Frame")
    knobSlider.Size = UDim2.fromOffset(10, 10)
    knobSlider.Position = UDim2.fromOffset(95, -2)
    knobSlider.BackgroundColor3 = Color3.fromRGB(214, 214, 214)
    knobSlider.Parent = bar
    Instance.new("UICorner", knobSlider).CornerRadius = UDim.new(1, 0)

    local dragging = false
    local sliderValue = 50

    knobSlider.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
        end
    end)
    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    UserInputService.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local mouseX = Mouse.X
            local relativeX = math.clamp(mouseX - bar.AbsolutePosition.X, 0, 200)
            sliderValue = math.floor((relativeX / 200) * 100)
            fill.Size = UDim2.fromOffset(relativeX, 6)
            knobSlider.Position = UDim2.fromOffset(relativeX - 5, -2)
        end
    end)

    return function()
        return sliderValue
    end
end

function RevenantUI.CreateKeybind(parent)
    local bindButton = Instance.new("TextButton")
    bindButton.Size = UDim2.fromOffset(90, 20)
    bindButton.Position = UDim2.fromOffset(12, 90)
    bindButton.Text = "Bind: None"
    bindButton.Font = Enum.Font.GothamBold
    bindButton.TextSize = 13
    bindButton.TextColor3 = Color3.fromRGB(214, 214, 214)
    bindButton.BackgroundColor3 = Color3.fromRGB(62, 62, 62)
    bindButton.Parent = parent
    Instance.new("UICorner", bindButton).CornerRadius = UDim.new(0, 4)

    local listening = false
    local currentBind = nil

    bindButton.MouseButton1Click:Connect(function()
        listening = true
        bindButton.Text = "Bind: ..."
    end)

    UserInputService.InputBegan:Connect(function(input, gpe)
        if listening and not gpe then
            currentBind = input.KeyCode
            bindButton.Text = "Bind: " .. tostring(currentBind.Name)
            listening = false
        end
    end)

    return function()
        return currentBind
    end
end
--4
local RevenantUI = require(script.Parent.Core)
require(script.Parent.Elements)
require(script.Parent.Inputs)

local gui = RevenantUI.Init()
local section = RevenantUI.CreateSection(gui, 225, 0.1)

local getDropdown = RevenantUI.CreateDropdown(section)
local getToggle = RevenantUI.CreateToggle(section)
local getSlider = RevenantUI.CreateSlider(section)
local getBind = RevenantUI.CreateKeybind(section)

RevenantUI.CreateButton = function(parent, callback)
    local actionButton = Instance.new("TextButton")
    actionButton.Size = UDim2.fromOffset(90, 20)
    actionButton.Position = UDim2.fromOffset(120, 90)
    actionButton.Text = "Click"
    actionButton.Font = Enum.Font.GothamBold
    actionButton.TextSize = 13
    actionButton.TextColor3 = Color3.fromRGB(214, 214, 214)
    actionButton.BackgroundColor3 = Color3.fromRGB(25, 25, 112)
    actionButton.Parent = parent
    Instance.new("UICorner", actionButton).CornerRadius = UDim.new(0, 4)

    actionButton.MouseButton1Click:Connect(callback)
end

RevenantUI.CreateButton(section, function()
    print("Выбор:", getDropdown())
    print("Рычаг:", getToggle())
    print("Слайдер:", getSlider())
    print("Бинд:", getBind() and getBind().Name or "None")
end)
--5
function RevenantUI.CreateButton(parent, callback)
    local actionButton = Instance.new("TextButton")
    actionButton.Size = UDim2.fromOffset(90, 20)
    actionButton.Position = UDim2.fromOffset(120, 90)
    actionButton.Text = "Click"
    actionButton.Font = Enum.Font.GothamBold
    actionButton.TextSize = 13
    actionButton.TextColor3 = Color3.fromRGB(214, 214, 214)
    actionButton.BackgroundColor3 = Color3.fromRGB(25, 25, 112)
    actionButton.Parent = parent
    Instance.new("UICorner", actionButton).CornerRadius = UDim.new(0, 4)

    actionButton.MouseButton1Click:Connect(callback)
end
--6
local RevenantUI = require(script.Parent.Core)
require(script.Parent.Elements)
require(script.Parent.Inputs)
require(script.Parent.Button)

local gui = RevenantUI.Init()
local section = RevenantUI.CreateSection(gui, 225, 0.1)

local getDropdown = RevenantUI.CreateDropdown(section)
local getToggle = RevenantUI.CreateToggle(section)
local getSlider = RevenantUI.CreateSlider(section)
local getBind = RevenantUI.CreateKeybind(section)

RevenantUI.CreateButton(section, function()
    print("Выбор:", getDropdown())
    print("Рычаг:", getToggle())
    print("Слайдер:", getSlider())
    print("Бинд:", getBind() and getBind().Name or "None")
end)
